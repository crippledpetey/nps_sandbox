jQuery(document).ready(function(e){function t(t){var i=e("a#prd-img-lnk-"+t);e("#active-image-holder > a").appendTo("#pending-image-holder"),i.prependTo("#active-image-holder");var o=e("#prd-inv-img-noti-"+t);if(e(o).siblings().addClass("hidden"),e(o).removeClass("hidden"),0==e(i).data("invQty"))var n="rgba(255,0,0,1)";else var n="rgba(0,255,0,1)";e("#active-image-holder").animate({boxShadow:"0 0 40px "+n},function(){e("#active-image-holder").animate({boxShadow:"none"})})}function i(t){if(console.log(t),"undefined"==t||""==t)var i=e("#default-page-title").text();else var i=e("#page-title-"+t).text();e("#product-page-title").empty(),e("#product-page-title").text(i),e(".product-title").empty(),e(".product-title").text(i)}function o(t){if(e("#page-overlay-dark").removeClass("hidden"),e(t).find(".video-pop-close").removeClass("hidden"),""!==e(t).data("origSrc")&&void 0!==e(t).data("origSrc")){var i=e(t).data("origSrc");e(t).children("iframe").attr("src",i)}else{var i=e(t).find("iframe").prop("src");e(t).attr("data-orig-src",i)}e("#page-overlay-dark").animate(400,function(){e(this).css({height:e(window).height(),width:"100%",display:"block"})},function(){e(t).removeClass("hidden"),e(t).css({position:"fixed","z-index":1e4,top:"10%",left:(e(window).width()-e(t).outerWidth())/2,padding:"15px",background:"#f9f9f9",color:"#444","text-shadow":"none","-webkit-border-radius":"4px","-moz-border-radius":"4px","border-radius":"4px","box-shadow":"0 10px 25px rgba(0, 0, 0, 0.5)"})})}e(".preselected-finish .inventory-controller select option").each(function(){e(this).attr("value")==e(".preselected-finish").data("finishId")?e(this).attr("selected",!0):e(this).removeAttr("selected")}),e(".preselected-finish .inventory-controller select").length&&(t(e(".preselected-finish .inventory-controller select option:selected").val()),i(e(".preselected-finish .inventory-controller select option:selected").val()),e(".preselected-finish .inventory-controller select").change(function(){t(e(".preselected-finish .inventory-controller select option:selected").val()),i(e(".preselected-finish .inventory-controller select option:selected").val())})),e(".video-pop").each(function(){var t=.8*e(window).height(),i=.8*e(window).width();e(this).children("iframe").attr({height:t,width:i})}),e(".video-pop-close").click(function(){e("#page-overlay-dark").animate(400,function(){e(this).css("opacity",0)},function(){e("#page-overlay-dark").attr("style",""),e("#page-overlay-dark").addClass("hidden"),e(".video-pop").each(function(){e(this).addClass("hidden").attr("style",""),e(this).children("iframe").attr("src",""),e(".trigger-video-pop").each(function(){e(this).removeClass("hidden")})})})}),e("#page-overlay-dark").click(function(){e(".video-pop").each(function(){e(this).addClass("hidden").attr("style",""),e(this).children("iframe").attr("src",""),e(".trigger-video-pop").each(function(){e(this).removeClass("hidden")})})});e(window).width(),e(window).height();0==e("#qty").val()&&e("#qty").val("1"),e(window).resize(function(){e(window).width(),e(window).height()}),e(".attachment-icon a").each(function(){e(this).mouseover(function(){var t=e(this).children("img").attr("src").match(/[^\.]+/)+"_hover.png";e(this).children("img").attr("src",t)}),e(this).mouseout(function(){e(this).children("img").animate(100,function(){var t=e(this).attr("src").replace("_hover.png",".png");e(this).attr("src",t)})})}),e(".trigger-video-pop").click(function(){e(this).addClass("hidden");var t=e(this).data("triggerIdKey")+"-video-pop";o(e("#"+t))}),e(document).keyup(function(t){27==t.keyCode&&(console.log(e(".video-stream")),e(".video-stream").stopVideo())})});